
> 这是我主要为自己写的一份文件,提醒我为什么我有一些非正统的设置来管理"选定的项目"状态. 

在大多数应用中,URL是事物ID的真实状态. 

如果您在/ projects / 123上,则projectID为123,并且URL是真实状态. Redux将保存对象的地图,但您必须选择一个`id: 123`从该地图,基于URL. 

通常你想要的是避免在redux存储中复制该状态. Redux最适合作为单一事实来源,尝试链接Redux和URL状态可能很脆弱. 

然而,这正是我所做的. 🤔

### 为什么我不能只使用URL状态

这是一款桌面应用. 当它加载时,我想将用户重定向到他们上次打开它时的项目页面. 

一世*有*将所选项目ID存储在redux中,以便我可以将其保存在localStorage中,并在下次打开应用程序时重新水化. 

此外,有时我可能会想要从不同的页面访问所选的项目ID. 如果/何时到来,我希望能够灵活地做到这一点. 

### 为什么我不能只使用Redux状态

具有特定于路线的项目仍然具有价值. 没有它,我必须创建自己的路由解决方案,以便在项目之间导航,我希望能够从应用程序的任何位置链接到特定项目页面,而无需担心调度redux操作. 这个项目使用React Router,没有项目页面是正确的URL是很奇怪的. 

### 我做了什么来减轻重复这个真相来源的危险

在`App`,我注册了一个听众`history`目的. 每当页面中的任何路径发生变化时,我都会检查它是否是产品页面的导航,并发送操作以使用URL中的项目ID更新Redux存储. 

在应用程序内部工作方面,我们应该将Redux视为真相的来源. 

实际上,URL是*行动*设定状态. 埃里克·文斯蒂 (Eric Vinceti) 有一个谈话,他谈到URL是如何行动而不是国家. 这个模型似乎在这里工作得很好. 
